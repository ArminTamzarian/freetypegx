<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>FreeTypeGX</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li class="current"><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1><a class="el" href="class_free_type_g_x.html" title="Wrapper class for the FreeType library with GX rendering.">FreeTypeGX</a> </h1><h2><a class="anchor" id="sec_intro">
Introduction</a></h2>
<p><a class="el" href="class_free_type_g_x.html" title="Wrapper class for the FreeType library with GX rendering.">FreeTypeGX</a> is a wrapper class for libFreeType which renders a compiled FreeType parsable font into a GX texture for Wii homebrew development. <br/>
 <a class="el" href="class_free_type_g_x.html" title="Wrapper class for the FreeType library with GX rendering.">FreeTypeGX</a> is written in C++ and makes use of a selectable pre-buffered or buffer-on-demand methodology to allow fast and efficient printing of text to the EFB. </p>
<p>This library was developed in-full by Armin Tamzarian with the support of developers in #wiidev on EFnet. Special thanks go out to Tantric of <a href="http://code.google.com/u/dborth/">too much to list</a> and dimok of <a href="http://code.google.com/p/wiixplorer">WiiXplorer</a> for their performance modifications.</p>
<h2><a class="anchor" id="sec_installation_source">
Installation (Source Code)</a></h2>
<ol type="1">
<li>Ensure that you have the <a href="http://sourceforge.net/projects/devkitpro/files/portlibs/">FreeType</a> Wii library installed in your development environment with the library added to your Makefile where appropriate.</li>
<li>Ensure that you have the <a href="http://code.google.com/p/metaphrasis">Metaphrasis</a> library installed in your development environment with the library added to your Makefile where appropriate.</li>
<li>Extract the <a class="el" href="class_free_type_g_x.html" title="Wrapper class for the FreeType library with GX rendering.">FreeTypeGX</a> archive.</li>
<li>Copy the contents of the <em>src</em> directory into your project's development path.</li>
<li>Include the <a class="el" href="class_free_type_g_x.html" title="Wrapper class for the FreeType library with GX rendering.">FreeTypeGX</a> header file in your code using syntax such as the following: <div class="fragment"><pre class="fragment"><span class="preprocessor"> #include &quot;<a class="code" href="_free_type_g_x_8h.html">FreeTypeGX.h</a>&quot;</span>
</pre></div></li>
</ol>
<h2><a class="anchor" id="sec_installation_library">
Installation (Library)</a></h2>
<ol type="1">
<li>Ensure that you have the <a href="http://sourceforge.net/projects/devkitpro/files/portlibs/">FreeType</a> Wii library installed in your development environment with the library added to your Makefile where appropriate.</li>
<li>Ensure that you have the <a href="http://code.google.com/p/metaphrasis">Metaphrasis</a> library installed in your development environment with the library added to your Makefile where appropriate.</li>
<li>Extract the <a class="el" href="class_free_type_g_x.html" title="Wrapper class for the FreeType library with GX rendering.">FreeTypeGX</a> archive.</li>
<li>Copy the contents of the <em>libogc</em> directory into your <em>devKitPro/libogc</em> directory.</li>
<li>Include the <a class="el" href="class_free_type_g_x.html" title="Wrapper class for the FreeType library with GX rendering.">FreeTypeGX</a> header file in your code using syntax such as the following: <div class="fragment"><pre class="fragment"><span class="preprocessor"> #include &quot;<a class="code" href="_free_type_g_x_8h.html">FreeTypeGX.h</a>&quot;</span>
</pre></div></li>
</ol>
<h2><a class="anchor" id="sec_freetypegx_prerequisites">
FreeTypeGX Prerequisites</a></h2>
<p>Before you begin using <a class="el" href="class_free_type_g_x.html" title="Wrapper class for the FreeType library with GX rendering.">FreeTypeGX</a> in your project you must ensure that the you have some method by which to allocate the font data buffer for use within the initialization routines. For examples showing the most common methods to generate a font data buffer for use with <a class="el" href="class_free_type_g_x.html" title="Wrapper class for the FreeType library with GX rendering.">FreeTypeGX</a> see the included examples. These examples illustrate the following methods: <br/>
 </p>
<ul>
<li><em>example1</em> - Compiling a font into the executable </li>
<li><em>example2</em> - Loading a font from a file located on an SD card or USB drive</li>
</ul>
<p>Note that both of these example result with the creation of the following example variables:</p>
<ul>
<li><em>uint8_t* rursus_compact_mono_ttf</em> - A buffer containing the font data. </li>
<li><em>FT_Long rursus_compact_mono_ttf_size</em> - A long value containing the size of the font data buffer in bytes.</li>
</ul>
<h2><a class="anchor" id="sec_freetypegx_usage">
FreeTypeGX Usage</a></h2>
<ol type="1">
<li>Within the file you included the <a class="el" href="_free_type_g_x_8h.html">FreeTypeGX.h</a> header create an instance object of the <a class="el" href="class_free_type_g_x.html" title="Wrapper class for the FreeType library with GX rendering.">FreeTypeGX</a> class: <div class="fragment"><pre class="fragment"> <a class="code" href="class_free_type_g_x.html" title="Wrapper class for the FreeType library with GX rendering.">FreeTypeGX</a> *freeTypeGX = <span class="keyword">new</span> <a class="code" href="class_free_type_g_x.html" title="Wrapper class for the FreeType library with GX rendering.">FreeTypeGX</a>();
</pre></div> Alternately you can specify a texture format to which you would like to render the font characters. Note that the default value for this parameter is GX_TF_RGBA8. <div class="fragment"><pre class="fragment"> <a class="code" href="class_free_type_g_x.html" title="Wrapper class for the FreeType library with GX rendering.">FreeTypeGX</a> *freeTypeGX = <span class="keyword">new</span> <a class="code" href="class_free_type_g_x.html" title="Wrapper class for the FreeType library with GX rendering.">FreeTypeGX</a>(GX_TF_RGB565);
</pre></div> Furthermore, you can also specify a vertex format index to avoid conflicts with concurrent libraries or other systems. Note that the default value for this parameter is GX_VTXFMT1. <div class="fragment"><pre class="fragment"> <a class="code" href="class_free_type_g_x.html" title="Wrapper class for the FreeType library with GX rendering.">FreeTypeGX</a> *freeTypeGX = <span class="keyword">new</span> <a class="code" href="class_free_type_g_x.html" title="Wrapper class for the FreeType library with GX rendering.">FreeTypeGX</a>(GX_TF_RGB565, GX_VTXFMT1);
</pre></div> <br/>
 Currently supported textures are: <ul>
<li><em>GX_TF_I4</em> </li>
<li><em>GX_TF_I8</em> </li>
<li><em>GX_TF_IA4</em> </li>
<li><em>GX_TF_IA8</em> </li>
<li><em>GX_TF_RGB565</em> </li>
<li><em>GX_TF_RGB5A3</em> </li>
<li><em>GX_TF_RGBA8</em></li>
</ul>
<br/>
</li>
<li>Using the allocated <a class="el" href="class_free_type_g_x.html" title="Wrapper class for the FreeType library with GX rendering.">FreeTypeGX</a> instance object call the loadFont function to load the font from the compiled buffer and specify the desired point size. Note that this function can be called multiple times to load a new: <div class="fragment"><pre class="fragment"> freeTypeGX-&gt;<a class="code" href="class_free_type_g_x.html#a80f38e698cefb7bf79a416d27979bb71">loadFont</a>(rursus_compact_mono_ttf, rursus_compact_mono_ttf_size, 64);
</pre></div> Alternately you can specify a flag which will load and cache all available font glyphs immediately. Note that on large font sets enabling this feature could take a significant amount of time. <div class="fragment"><pre class="fragment"> freeTypeGX-&gt;<a class="code" href="class_free_type_g_x.html#a80f38e698cefb7bf79a416d27979bb71">loadFont</a>(rursus_compact_mono_ttf, rursus_compact_mono_ttf_size, 64, <span class="keyword">true</span>);
</pre></div> <br/>
</li>
<li>If necessary you can enable compatibility modes with concurrent libraries or systems. For more information on this feature see the documentation for setCompatibilityMode: <div class="fragment"><pre class="fragment"> freeTypeGX-&gt;<a class="code" href="class_free_type_g_x.html#af4291b29069c68cba34524a19b9567ea">setCompatibilityMode</a>(<a class="code" href="_free_type_g_x_8h.html#a2396b055898cb93af73d3f00a825b99e">FTGX_COMPATIBILITY_GRRLIB</a>);
</pre></div></li>
<li>Using the allocated <a class="el" href="class_free_type_g_x.html" title="Wrapper class for the FreeType library with GX rendering.">FreeTypeGX</a> instance object call the drawText function to print a string at the specified screen X and Y coordinates to the current EFB: <div class="fragment"><pre class="fragment"> freeTypeGX-&gt;<a class="code" href="class_free_type_g_x.html#a03072c9f0e668b89bf830ee54b1a1b93">drawText</a>(10, 25, <a class="code" href="_free_type_g_x_8h.html#a689fe14d3f57dd274d7dd0bdb5e232fc">_TEXT</a>(<span class="stringliteral">&quot;FreeTypeGX Rocks!&quot;</span>));
</pre></div> Alternately you can specify a <em>GXColor</em> object you would like to apply to the printed characters: <div class="fragment"><pre class="fragment"> freeTypeGX-&gt;<a class="code" href="class_free_type_g_x.html#a03072c9f0e668b89bf830ee54b1a1b93">drawText</a>(10, 25, <a class="code" href="_free_type_g_x_8h.html#a689fe14d3f57dd274d7dd0bdb5e232fc">_TEXT</a>(<span class="stringliteral">&quot;FreeTypeGX Rocks!&quot;</span>),
                      (GXColor){0xff, 0xee, 0xaa, 0xff});
</pre></div> Furthermore you can also specify a group of styling parameters which will modify the positioning or style of the text: <div class="fragment"><pre class="fragment"> freeTypeGX-&gt;<a class="code" href="class_free_type_g_x.html#a03072c9f0e668b89bf830ee54b1a1b93">drawText</a>(10, 25, <a class="code" href="_free_type_g_x_8h.html#a689fe14d3f57dd274d7dd0bdb5e232fc">_TEXT</a>(<span class="stringliteral">&quot;FreeTypeGX Rocks!&quot;</span>),
                      (GXColor){0xff, 0xee, 0xaa, 0xff},
                      <a class="code" href="_free_type_g_x_8h.html#a364abd6fb14f7dd4a0f1823e1a0a417f">FTGX_JUSTIFY_CENTER</a> | <a class="code" href="_free_type_g_x_8h.html#a2b9efae3142fb968363f235de9f33d2d">FTGX_ALIGN_BOTTOM</a> | <a class="code" href="_free_type_g_x_8h.html#aea0ad6b893bad712e412ec8d73e0cba8">FTGX_STYLE_UNDERLINE</a>);
</pre></div> <br/>
 Currently style parameters are: <ul>
<li><em>FTGX_JUSTIFY_LEFT</em> </li>
<li><em>FTGX_JUSTIFY_CENTER</em> </li>
<li><em>FTGX_JUSTIFY_RIGHT</em> </li>
<li><em>FTGX_ALIGN_TOP</em> </li>
<li><em>FTGX_ALIGN_MIDDLE</em> </li>
<li><em>FTGX_ALIGN_BOTTOM</em> </li>
<li><em>FTGX_STYLE_UNDERLINE</em> </li>
<li><em>FTGX_STYLE_STRIKE</em></li>
</ul>
</li>
</ol>
<h2><a class="anchor" id="sec_license">
License</a></h2>
<p><a class="el" href="class_free_type_g_x.html" title="Wrapper class for the FreeType library with GX rendering.">FreeTypeGX</a> is distributed under the GNU Lesser General Public License.</p>
<h2><a class="anchor" id="sec_contact">
Contact</a></h2>
<p>If you have any suggestions, questions, or comments regarding this library feel free to e-mail me at tamzarian1989 [at] gmail [dawt] com. </p>
</div>
<hr class="footer"/><address style="text-align: right;"><small>Generated on Thu Jul 1 23:24:53 2010 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
